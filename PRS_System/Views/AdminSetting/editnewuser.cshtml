@model PRS_System.Models.Setting.EdituserdataModel
@using PRS_System.Controllers
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="th">
<!--<![endif]-->

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <link rel="stylesheet" href="~/css/font-awesome.css" />
    <link rel="stylesheet" href="~/css/ui_form.css" />
    <link rel="stylesheet" href="~/css/table.css" />
    <link rel="stylesheet" href="~/css/normalize.css" />
    <link rel="stylesheet" href="~/js/EsignatureCanvas.js" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="~/js/EsignatureCanvas.js"></script>
    <script src="js/vendor/jquery-1.10.2.min.js"></script>
    <script src="js/min/plugins.min.js"></script>
    <script src="js/min/main.min.js"></script>
    <script src="js/addinput.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link href='https://fonts.googleapis.com/css?family=Kanit&subset=thai,latin' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/ui_form.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>





<body>

    <!-- MAIN -->
    <div class="main-content">
        <div class="fluid-container">
            <div>
                <!-- Form -->

                <form id="user-form" method="post" enctype="multipart/form-data" asp-action="Edituserdata" asp-controller="Adminsetting" onsubmit="AJAXSubmit(this); return false;">
                    <div class="page-section" id="add">
                        <div class="row">
                            <div class="col-md-12">
                                <h1>Add New User</h1>
                            </div>

                            <div class="page-section" id="add">
                                <div class="row">
                                    <div class="w3-container w3-light-blue w3-hover-text-light-grey">
                                        <h1>Edit User</h1>

                                    </div>
                                    <div class="row">

                                        <label>ID ผู้ใช้</label><br>
                                        <input type="text" asp-for="UserID" placeholder="Ex.sfcsrc" size="20"><br><br>
                                        <label>ชื่อ นามสกุล</label><br>
                                        <input type="text" asp-for="Full_NameThai" placeholder="Ex.ชิโนภาส เมืองไทย" size="20"><br><br>
                                        <label>ตำแหน่งปฏิบัติงาน</label><br>
                                        <select asp-for="User_Type_Operation">
                                            <option value="นักวิชาการเงินและบัญชี ชำนาญการ">นักวิชาการเงินและบัญชี ชำนาญการ</option>
                                        </select><br><br>

                                        <label>ตำแหน่งบริหาร</label><br>
                                        <select asp-for="User_Type_Magnement">
                                            <option value="">เลือกตำแหน่ง</option>
                                            <option value="หัวหน้าภาควิชา">หัวหน้าภาควิชา</option>
                                            <option value="หัวหน้าฝ่ายสนับสนุนงานกลาง">หัวหน้าฝ่ายสนับสนุนงานกลาง</option>
                                            <option value="หัวหน้าฝ่ายบริการและพัฒนาคุณภาพการศึกษา">หัวหน้าฝ่ายบริการและพัฒนาคุณภาพการศึกษา</option>
                                            <option value="ผู้ประสานงานห้องปฏิบัติการวิทยาศาสตร์">ผู้ประสานงานห้องปฏิบัติการวิทยาศาสตร์</option>
                                            <option value="ผู้ประสานงานหน่วยสนับสนุนเทคโนโลยีและสื่อสาร">ผู้ประสานงานหน่วยสนับสนุนเทคโนโลยีและสื่อสาร</option>
                                            <option value="หัวหน้าฝ่ายบริการและพัฒนาคุณภาพการศึกษา">หัวหน้าฝ่ายบริการและพัฒนาคุณภาพการศึกษา</option>
                                            <option value="นักวิเคราะห์นโยบายและแผนชำนาญการ">นักวิเคราะห์นโยบายและแผนชำนาญการ</option>
                                            <option value="หัวหน้าสำนักงานเลขานุการ">หัวหน้าสำนักงานเลขานุการ</option>
                                            <option value="นักวิเคราะห์นโยบายและแผนชำนาญการ">นักวิเคราะห์นโยบายและแผนชำนาญการ</option>
                                            <option value="กรรมการและเลขานุการ">กรรมการและเลขานุการ</option>
                                            <option value="ประธานกรรมการดำเนินงานฯ">กรรมการและเลขานุการฯ</option>
                                        </select><br><br>


                                        <br><br>
                                        <label>Email (*Gmail)</label>
                                        <input type="email" asp-for="Email" />
                                        <br><br>
                                        <label>คำนำหน้าชื่อ</label><br>
                                        <select asp-for="Prefix_NameThai">
                                            <option value="นาย">นาย</option>
                                            <option value="นาง">นาง</option>
                                            <option value="นาง">นางสาว</option>
                                        </select>
                                        <br><br>

                                        <label>หมวดหมู่ผู้ใช้</label><br>
                                        <input asp-for="Category" type="radio" value="Admin">
                                        <label>Admin</label>
                                        <input asp-for="Category" type="radio" value="User">
                                        <label>User</label><br><br>

                                        <label>ลายเซ็น</label><br><br>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <canvas id="sig-canvas" width="620" height="160" style="border-style:dashed">
                                                    Get a better browser, bro.
                                                </canvas>
                                            </div>
                                            <input type="hidden" asp-for="ESignature" />
                                        </div>

                                        <label>สถานะผู้ใช้</label><br>
                                        <input asp-for="Status" type="radio" value="Active">
                                        <label>Active</label>
                                        <input asp-for="Status" type="radio" value="Inactive">
                                        <label>Inactive</label><br><br>

                                        <button id="clearBtn" type="button">Clear signature</button>
                                        <button type="submit" id="submitBtn">Submit</button>

                                    </div> <!-- .contact-form -->
                                </div>
                            </div>
                        </div>
                    </div>

                </form>

                <div class="row">

                    <label>UserID</label><br>
                    <input class="w3-input w3-border w3-round" type="text" id="userID" placeholder="Ex.sfcfrc" size="20"><br><br>
                    <label>Full name Thai</label><br>
                    <input class="w3-input w3-border w3-round" type="text" id="userID" placeholder="Ex.������ ���ͧ��" size="20"><br><br>
                    <label>Full name English</label><br>
                    <input class="w3-input w3-border w3-round" type="text" id="userID" placeholder="Ex.Chinopas Muangthai" size="20"><br><br>

                    <label>User Type</label><br>
                    <select name="name_select" id="name_select">
                        <option value="science">�Ҩ����</option>
                    </select><br><br>

                    <label>Category</label><br>
                    <input asp-for="Category" type="checkbox">
                    <label>Admin</label>
                    <input asp-for="Category"  type="checkbox">
                    <label>User</label><br><br>

                    <label>Signature</label><br><br>

                    

                    <hr>

                    <div class="row" id="footer">
                        <div class="col-md-12 text-center">
                            <p class="copyright-text">Faculty Science &copy; Kasatsart University Sriracha campas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
     



</body>

</html>
@section Scripts{
    <script>
    function AJAXSubmit(oFormElement) {
            try {
                var form = document.getElementById("user-form");
                const url = "@Url.Action("Addnewuserdata", "AdminSetting")";
                const formData = new FormData(form);
                $.ajax({
                    type: "POST",
                    url: url,
                    data: formData, // �֧������㹿����
                    contentType: false,
                    dataType: "JSON",
                    processData: false,
                    success: function (data) {

                        console.log(data);
                        if (data.status == "success") {
                            Swal.fire({
                                icon: 'success',
                                title: data.messege,
                                showConfirmButton: true,
                                confirmButtonText: 'Ok'
                            }).then((result) => {
                                if (result.isConfirmed) {
                                    location.href ="@Url.Action("Addnewuser", "AdminSetting")";
                                }
                            });

                        }
                        else if (data.status == "error") {
                            Swal.fire({
                                icon: 'error',
                                title: data.errorMessage,
                                html: data.detail,
                                showConfirmButton: true,
                            });
                        }
                    },
                    error: function (err) {
                        console.log("Error", err);
                        alert("Error save fail");
                    }
                });
            } catch (error) {
                console.error('Error:', error);
            }
        }
    </script>
}

